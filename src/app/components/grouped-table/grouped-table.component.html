@if (dataSource.length > 0) {
  <table mat-table [dataSource]="floorRawData()" class="zone-table">
    <ng-container matColumnDef="zone">
      <th mat-header-cell *matHeaderCellDef>Zone</th>
      <td mat-cell *matCellDef="let element">{{element.zone}}</td>
    </ng-container>

    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef>Description</th>
      <td class="column-medium description-col" mat-cell *matCellDef="let element" [matTooltip]="element.description">{{element.description}}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="basicZoneColumn; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: basicZoneColumn;"></tr>
  </table>

  <table mat-table [dataSource]="floorRawData()" [class.collapse]="lightingCollapse" class="lighting-table">
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>
        <div class="column-with-button">
          <p>Lighting</p>
          <button (click)="lightingCollapse = !lightingCollapse" mat-button>></button>
        </div>
      </th>
      <td mat-cell *matCellDef="let element">
        <app-light-status [(lightStatus)]="element.lightting.control"></app-light-status>
      </td>
    </ng-container>

    <ng-container matColumnDef="control">
      <th mat-header-cell *matHeaderCellDef>Control</th>
      <td mat-cell *matCellDef="let element">
        <app-slider-toggle-formcontrol [(toggleValue)]="element.lightting.control"
          (toggleValueChange)="toggleLightStatus($event, element.lightting)"></app-slider-toggle-formcontrol>
      </td>
    </ng-container>

    <ng-container matColumnDef="dimming">
      <th class="column-large" mat-header-cell *matHeaderCellDef> Dimming Level</th>
      <td mat-cell *matCellDef="let element">{{element.lightting.dimmingLevel}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="lightingColumn sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: lightingColumn;"></tr>
  </table>

  <table mat-table [dataSource]="floorRawData()" [class.collapse]="occupancyCollapse" class="lighting-table">
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>
        <div class="column-with-button">
          <p>Occupancy</p>
          <button (click)="occupancyCollapse = !occupancyCollapse" mat-button>></button>
        </div>
      </th>
      <td mat-cell *matCellDef="let element">{{element.occupancy.status}}</td>
    </ng-container>

    <ng-container matColumnDef="control">
      <th mat-header-cell *matHeaderCellDef>Control</th>
      <td mat-cell *matCellDef="let element">{{element.occupancy.control}}</td>
    </ng-container>

    <ng-container matColumnDef="timeout">
      <th mat-header-cell *matHeaderCellDef> Timeout Period</th>
      <td mat-cell *matCellDef="let element">{{element.occupancy.timeoutPeriod}}</td>
    </ng-container>

    <ng-container matColumnDef="bypass">
      <th mat-header-cell *matHeaderCellDef> Bypass</th>
      <td mat-cell *matCellDef="let element">
        <app-slider-toggle-formcontrol [(toggleValue)]="element.occupancy.bypass"></app-slider-toggle-formcontrol>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="occupancyColumn sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: occupancyColumn;"></tr>
  </table>

  <table mat-table [dataSource]="floorRawData()" [class.collapse]="indoorCollapse" class="lighting-table">
    <ng-container matColumnDef="status">
      <th class="column-large" mat-header-cell *matHeaderCellDef>
        <div class="column-with-button">
          <p>Indoor Sensor</p>
          <button (click)="indoorCollapse = !indoorCollapse" mat-button>></button>
        </div>
      </th>
      <td mat-cell *matCellDef="let element">{{element.indoorSensor.status}}</td>
    </ng-container>

    <ng-container matColumnDef="control">
      <th mat-header-cell *matHeaderCellDef>Control</th>
      <td mat-cell *matCellDef="let element">{{element.indoorSensor.control}}</td>
    </ng-container>

    <ng-container matColumnDef="targetLux">
      <th class="column-medium" mat-header-cell *matHeaderCellDef>Target Lux</th>
      <td mat-cell *matCellDef="let element">{{element.indoorSensor.targetLux}}</td>
    </ng-container>

    <ng-container matColumnDef="bypass">
      <th mat-header-cell *matHeaderCellDef>Bypass</th>
      <td mat-cell *matCellDef="let element">
        <app-slider-toggle-formcontrol [(toggleValue)]="element.indoorSensor.bypass"></app-slider-toggle-formcontrol>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="indoorColumn sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: indoorColumn;"></tr>
  </table>

  <table mat-table [dataSource]="floorRawData()" [class.collapse]="outdoorCollapse" class="lighting-table">
    <ng-container matColumnDef="status">
      <th class="column-large" mat-header-cell *matHeaderCellDef>
        <div class="column-with-button">
          <p>Outdoor Sensor</p>
          <button (click)="outdoorCollapse = !outdoorCollapse" mat-button>></button>
        </div>
      </th>
      <td mat-cell *matCellDef="let element">{{element.indoorSensor.status}}</td>
    </ng-container>

    <ng-container matColumnDef="control">
      <th mat-header-cell *matHeaderCellDef>Control</th>
      <td mat-cell *matCellDef="let element">{{element.indoorSensor.control}}</td>
    </ng-container>

    <ng-container matColumnDef="targetLux">
      <th class="column-medium" mat-header-cell *matHeaderCellDef>Target Lux</th>
      <td mat-cell *matCellDef="let element">{{element.indoorSensor.targetLux}}</td>
    </ng-container>

    <ng-container matColumnDef="bypass">
      <th mat-header-cell *matHeaderCellDef>Bypass</th>
      <td mat-cell *matCellDef="let element">
        <app-slider-toggle-formcontrol [(toggleValue)]="element.indoorSensor.bypass"></app-slider-toggle-formcontrol>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="outdoorColumn sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: outdoorColumn;"></tr>
  </table>

}

